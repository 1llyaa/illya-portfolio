<section id="contact" class="contact">
    <div class="container">
        <h2>Contact me</h2>
        <p>
            Letâ€™s work together on your next project! Feel free to reach out via the contact form or through social
            media.
        </p>

        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
            <div class="form-group">
                <input
                    type="text"
                    formControlName="name"
                    placeholder="Name"
                    [class.invalid]="hasError('name', 'required') || hasError('name', 'minlength')"
                />
                @if (hasError('name', 'required')) {
                    <span class="error-message"> Please enter your name </span>
                }
                @if (hasError('name', 'minlength')) {
                    <span class="error-message"> Name must be at least 2 characters long </span>
                }
            </div>

            <div class="form-group">
                <input
                    type="email"
                    formControlName="email"
                    placeholder="Email"
                    [class.invalid]="hasError('email', 'required') || hasError('email', 'email')"
                />
                @if (hasError('email', 'required')) {
                    <span class="error-message"> Please enter your email address </span>
                }
                @if (hasError('email', 'email')) {
                    <span class="error-message"> Please enter a valid email address </span>
                }
            </div>

            <div class="form-group">
                <input
                    type="tel"
                    formControlName="phone"
                    placeholder="Phone number"
                    [class.invalid]="hasError('phone', 'required') || hasError('phone', 'pattern')"
                />
                @if (hasError('phone', 'required')) {
                    <span class="error-message"> Please enter your phone number </span>
                }
                @if (hasError('phone', 'pattern')) {
                    <span class="error-message">
                        Please enter a valid phone number (e.g. +420123456789 or 123-456-789)
                    </span>
                }
            </div>

            <div class="form-group">
                <input
                    type="text"
                    formControlName="subject"
                    placeholder="Subject"
                    [class.invalid]="hasError('subject', 'required') || hasError('subject', 'minlength')"
                />
                @if (hasError('subject', 'required')) {
                    <span class="error-message"> Please enter a subject </span>
                }
                @if (hasError('subject', 'minlength')) {
                    <span class="error-message"> Subject must be at least 3 characters long </span>
                }
            </div>

            <div class="form-group">
                <textarea
                    formControlName="message"
                    placeholder="Your message"
                    rows="5"
                    [class.invalid]="hasError('message', 'required') || hasError('message', 'minlength')"
                ></textarea>
                @if (hasError('message', 'required')) {
                    <span class="error-message"> Please enter your message </span>
                }
                @if (hasError('message', 'minlength')) {
                    <span class="error-message"> Message must be at least 10 characters long </span>
                }
            </div>

            @if (submitStatus) {
                <div
                    class="status-message"
                    [class.success]="submitStatus.success"
                    [class.error]="!submitStatus.success"
                >
                    {{ submitStatus.message }}
                </div>
            }

            <button type="submit" [disabled]="isSubmitting">
                <i class="fas fa-paper-plane"></i>
                {{ isSubmitting ? 'Sending...' : 'Send Message' }}
            </button>
        </form>

        <div class="socials">
            <a href="https://github.com/1llyaa" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </a>
            <a
                href="https://www.linkedin.com/in/illya-miloserdov-b8050a253/"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="LinkedIn Profile"
            >
                <i class="fab fa-linkedin"></i>
                <span>LinkedIn</span>
            </a>
            <a href="mailto:illyamiloserdov@skaut.cz" aria-label="Email Me">
                <i class="fas fa-envelope"></i>
                <span>Email</span>
            </a>
        </div>
    </div>
</section>
